webpackJsonp([0],[,function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(2),s=function(){function e(){}return e.loadAppConfiguration=function(e){return r(this,void 0,void 0,function(){var t,n;return o(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.ajax({url:e,type:"GET",dataType:"json"})];case 1:return t=r.sent(),[2,t];case 2:throw n=r.sent(),a.ErrorHandler.getFromAjaxError(n,e);case 3:return[2]}})})},e.callApi=function(t,n,i,s){return r(this,void 0,void 0,function(){var r,u,c;return o(this,function(o){switch(o.label){case 0:return[4,s.getAccessToken()];case 1:r=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,11]),[4,e._callApiWithToken(t,n,i,r)];case 3:return[2,o.sent()];case 4:if(u=o.sent(),401!==u.status)throw a.ErrorHandler.getFromAjaxError(u,t);return[4,s.clearAccessToken()];case 5:return o.sent(),[4,s.getAccessToken()];case 6:r=o.sent(),o.label=7;case 7:return o.trys.push([7,9,,10]),[4,e._callApiWithToken(t,n,i,r)];case 8:return[2,o.sent()];case 9:throw c=o.sent(),a.ErrorHandler.getFromAjaxError(c,t);case 10:return[3,11];case 11:return[2]}})})},e._callApiWithToken=function(e,t,n,a){return r(this,void 0,void 0,function(){var r;return o(this,function(o){switch(o.label){case 0:return r=n?JSON.stringify(n):"",[4,i.ajax({url:e,data:r,dataType:"json",contentType:"application/json",type:t,beforeSend:function(e){null!==a&&e.setRequestHeader("Authorization","Bearer "+a)}})];case 1:return[2,o.sent()]}})})},e}();t.HttpClient=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(11),i=n(4),a=function(){function e(){}return e.reportError=function(t){var n=e.getFromException(t);n.nonError||this._outputError(n)},e.clear=function(){i.IFrameWindowHelper.getMainWindowElement("#error").html(""),i.IFrameWindowHelper.getMainWindowElement("#btnClearError").addClass("hide")},e.getNonError=function(){return new o.UIError({nonError:!0})},e.getFromOAuthRequest=function(e){if(e instanceof o.UIError)return e;var t="Authentication request error";return e.message&&(t+=": "+e.message),new o.UIError({message:t,statusCode:0,area:"OAuth / CORS",details:e.toString()})},e.getFromOAuthResponse=function(e){if(e instanceof o.UIError)return e;if(e.error&&e.error_description)return new o.UIError({message:"Authentication response error : "+e.error,statusCode:400,area:"OAuth",details:e.error_description});var t="Authentication response error";return e.message&&(t+=": "+e.message),new o.UIError({message:t,statusCode:400,area:"OAuth",details:e.toString()})},e.getFromAjaxError=function(t,n){if(t instanceof o.UIError)return t;var r=new o.UIError({message:"Error calling server",statusCode:t.status,area:"Ajax",url:n});if(0===t.status)r.area+=" / CORS",r.message="Cross origin request was not allowed";else if(200===t.status)r.area=" / JSON",r.message="Parsing JSON data failed";else{var i=e._getApiErrorFromResponse(t.responseText);i&&i.area&&i.message&&(r.area="API / "+i.area,r.message=i.message,i.id&&(r.instanceId=i.id))}return r},e.getFromException=function(e){if(e instanceof o.UIError)return e;if(e instanceof Error){var t=new o.UIError({message:"Problem encountered",area:"Exception",details:e.message});return t.stack=e.stack,t}return new o.UIError({message:"Problem encountered",area:"Exception",details:e.toString()})},e._getApiErrorFromResponse=function(e){try{return JSON.parse(e)}catch(e){return null}},e._outputError=function(e){var t=r("#error");t.text(""),e.message.length>0&&t.append(r("<li>").html("Message : <b>"+e.message+"</b>")),e.statusCode>-1&&t.append(r("<li>").html("Status Code : <b>"+e.statusCode+"</b>")),e.area.length>0&&t.append(r("<li>").html("Area : <b>"+e.area+"</b>")),e.instanceId&&r("#error").append(r("<li>").html("Id : <b>"+e.instanceId+"</b>")),e.url.length>0&&t.append(r("<li>").html("URL : <b>"+e.url+"</b>")),r("#error").append(r("<li>").html("Time : <b>"+e.time.toUTCString()+"</b>")),e.details.length>0&&t.append(r("<li>").html("Details : <b>"+e.details+"</b>"));var n=r("#btnClearError");n.hasClass("hide")&&n.removeClass("hide")},e}();t.ErrorHandler=a},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(){function e(){}return e.getMainWindowElement=function(t){return e.isIFrameOperation()?window.parent.$(t):r(t)},e.isIFrameOperation=function(){return window.parent&&window!==window.parent},e}();t.IFrameWindowHelper=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.getLocationHashData=function(){var e={},t=location.hash.indexOf("#");if(-1!==t){location.hash.slice(t+1).split("&").map(function(t){var n=t.split("="),r=n[0],o=n[1];e[r]=decodeURIComponent(o)})}return e},e}();t.UrlHelper=r},function(e,t,n){n(7),e.exports=n(9)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(8)},,function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(10),s=n(2),u=n(1),c=n(12),l=n(13);(new(function(){function e(){window.$=i,this._setupCallbacks(),this._spaConfig=null,this._authenticator=null,this._router=null}return e.prototype.execute=function(){return r(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:i("#btnHome").click(this._onHome),i("#btnRefreshData").click(this._onRefreshData),i("#btnExpireAccessToken").click(this._onExpireToken),i("#btnLogout").click(this._onLogout),i("#btnClearError").click(this._onClearError),i("#btnClearTrace").click(this._onClearTrace),t.label=1;case 1:return t.trys.push([1,7,,8]),[4,this._downloadSpaConfig()];case 2:return t.sent(),[4,this._configureAuthentication()];case 3:return t.sent(),[4,this._handleLoginResponse()];case 4:return t.sent(),[4,this._getUserClaims()];case 5:return t.sent(),[4,this._runPage()];case 6:return t.sent(),[3,8];case 7:return e=t.sent(),s.ErrorHandler.reportError(e),[3,8];case 8:return[2]}})})},e.prototype._downloadSpaConfig=function(){return r(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return e=this,[4,u.HttpClient.loadAppConfiguration("spa.config.json")];case 1:return e._spaConfig=t.sent(),[2]}})})},e.prototype._configureAuthentication=function(){this._authenticator=new a.Authenticator(this._spaConfig.oauth),c.OAuthLogger.initialize(),this._router=new l.Router(this._spaConfig.app.apiBaseUrl,this._authenticator)},e.prototype._handleLoginResponse=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,this._authenticator.handleLoginResponse()];case 1:return e.sent(),[2]}})})},e.prototype._getUserClaims=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,this._router.executeUserInfoView()];case 1:return e.sent(),[2]}})})},e.prototype._runPage=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,this._router.executeView()];case 1:return e.sent(),i(window).on("hashchange",this._onHashChange),[2]}})})},e.prototype._onHashChange=function(){return r(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:c.OAuthLogger.updateLevelIfRequired(),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this._router.executeView()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),s.ErrorHandler.reportError(e),[3,4];case 4:return[2]}})})},e.prototype._onHome=function(){location.hash="#"},e.prototype._onRefreshData=function(){return r(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this._router.executeView()];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),s.ErrorHandler.reportError(e),[3,3];case 3:return[2]}})})},e.prototype._onExpireToken=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,this._authenticator.expireAccessToken()];case 1:return e.sent(),[2]}})})},e.prototype._onLogout=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,this._authenticator.startLogout()];case 1:return e.sent(),[2]}})})},e.prototype._onClearError=function(){s.ErrorHandler.clear()},e.prototype._onClearTrace=function(){c.OAuthLogger.clear()},e.prototype._setupCallbacks=function(){this._configureAuthentication=this._configureAuthentication.bind(this),this._handleLoginResponse=this._handleLoginResponse.bind(this),this._getUserClaims=this._getUserClaims.bind(this),this._runPage=this._runPage.bind(this),this._onHashChange=this._onHashChange.bind(this),this._onHome=this._onHome.bind(this),this._onRefreshData=this._onRefreshData.bind(this),this._onExpireToken=this._onExpireToken.bind(this),this._onLogout=this._onLogout.bind(this)},e}())).execute()},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),a=n(2),s=function(){function e(e){var t={authority:e.authority,client_id:e.clientId,redirect_uri:e.appUri,silent_redirect_uri:e.appUri,post_logout_redirect_uri:""+e.appUri+e.postLogoutPath,scope:e.scope,response_type:"token id_token",loadUserInfo:!1,automaticSilentRenew:!0,monitorSession:!1};this._userManager=new i.UserManager(t),this._userManager.events.addSilentRenewError(this._onSilentTokenRenewalError),this._setupCallbacks()}return e.prototype.clearAccessToken=function(){return r(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return[4,this._userManager.getUser()];case 1:return e=t.sent(),e&&(e.access_token="",this._userManager.storeUser(e)),[2]}})})},e.prototype.expireAccessToken=function(){return r(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return[4,this._userManager.getUser()];case 1:return e=t.sent(),e&&(e.expires_at=Date.now()/1e3+30,e.access_token="x"+e.access_token+"x",this._userManager.storeUser(e),this._userManager.stopSilentRenew(),this._userManager.startSilentRenew()),[2]}})})},e.prototype.getOpenIdConnectUserClaims=function(){return r(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return[4,this._userManager.getUser()];case 1:return e=t.sent(),e&&e.profile?[2,e.profile]:[2,null]}})})},e.prototype.getAccessToken=function(){return r(this,void 0,void 0,function(){var e,t,n;return o(this,function(r){switch(r.label){case 0:return[4,this._userManager.getUser()];case 1:if((e=r.sent())&&e.access_token&&e.access_token.length>0)return[2,e.access_token];t={hash:location.hash.length>0?location.hash:"#"},r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this._userManager.signinRedirect({state:JSON.stringify(t)})];case 3:throw r.sent(),a.ErrorHandler.getNonError();case 4:throw n=r.sent(),a.ErrorHandler.getFromOAuthRequest(n);case 5:return[2]}})})},e.prototype.handleLoginResponse=function(){return r(this,void 0,void 0,function(){var e,t,n;return o(this,function(r){switch(r.label){case 0:if(-1===location.hash.indexOf("state"))return[2];if(window.top!==window.self)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._userManager.signinRedirectCallback()];case 2:return e=r.sent(),t=JSON.parse(e.state),location.replace(location.pathname+t.hash),[3,4];case 3:throw n=r.sent(),a.ErrorHandler.getFromOAuthResponse(n);case 4:return[3,7];case 5:return[4,this._userManager.signinSilentCallback()];case 6:throw r.sent(),a.ErrorHandler.getNonError();case 7:return[2]}})})},e.prototype.startLogout=function(){return r(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this._userManager.signoutRedirect()];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),a.ErrorHandler.reportError(a.ErrorHandler.getFromOAuthRequest(e)),[3,3];case 3:return[2]}})})},e.prototype._onSilentTokenRenewalError=function(e){if("login_required"!==e.error){var t=a.ErrorHandler.getFromOAuthResponse(e);a.ErrorHandler.reportError(t)}},e.prototype._setupCallbacks=function(){this.clearAccessToken=this.clearAccessToken.bind(this),this.getAccessToken=this.getAccessToken.bind(this),this._onSilentTokenRenewalError=this._onSilentTokenRenewalError.bind(this)},e}();t.Authenticator=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=this.constructor,r=t.message,o=void 0===r?"":r,i=t.statusCode,a=void 0===i?-1:i,s=t.area,u=void 0===s?"":s,c=t.url,l=void 0===c?"":c,h=t.time,f=void 0===h?new Date:h,p=t.details,d=void 0===p?"":p,b=t.nonError,v=void 0!==b&&b,g=e.call(this,o)||this;return Object.setPrototypeOf(g,n.prototype),g._statusCode=a,g._area=u,g._url=l,g._time=f,g._details=d,g._nonError=v,g._instanceId=null,g}return r(t,e),Object.defineProperty(t.prototype,"statusCode",{get:function(){return this._statusCode},set:function(e){this._statusCode=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"area",{get:function(){return this._area},set:function(e){this._area=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"instanceId",{get:function(){return this._instanceId},set:function(e){this._instanceId=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"time",{get:function(){return this._time},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"details",{get:function(){return this._details},set:function(e){this._details=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonError",{get:function(){return this._nonError},enumerable:!0,configurable:!0}),t}(Error);t.UIError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(3),i=n(4),a=n(5),s=function(){function e(){}return e.initialize=function(){o.Log.logger=e,e.setLevel(e._getUrlLogLevel())},e.setLevel=function(t){o.Log.level=t,sessionStorage.setItem("basicSpa.logLevel",t.toString()),i.IFrameWindowHelper.isIFrameOperation()||e.clear();var n=i.IFrameWindowHelper.getMainWindowElement(".tracecontainer");t===o.Log.NONE?n.addClass("hide"):n.removeClass("hide"),i.IFrameWindowHelper.getMainWindowElement("#btnTrace").addClass("hide")},e.updateLevelIfRequired=function(){var t=e._getStoredLogLevel(),n=e._getUrlLogLevel();n!==t&&e.setLevel(n)},e.clear=function(){i.IFrameWindowHelper.getMainWindowElement("#trace").html(""),i.IFrameWindowHelper.getMainWindowElement("#btnClearTrace").addClass("hide")},e.debug=function(){e._output("Oidc.Debug",arguments)},e.info=function(){e._output("Oidc.Info",arguments)},e.warn=function(){e._output("Oidc.Warn",arguments)},e.error=function(){e._output("Oidc.Error",arguments)},e._getUrlLogLevel=function(){var t=new Map([["none",o.Log.NONE],["debug",o.Log.DEBUG],["info",o.Log.INFO],["warn",o.Log.WARN],["error",o.Log.ERROR]]),n=a.UrlHelper.getLocationHashData();if(n.log){var r=t.get(n.log);if(void 0!==r)return r}return e._getStoredLogLevel()},e._getStoredLogLevel=function(){var e=sessionStorage.getItem("basicSpa.logLevel");return e?parseInt(e,10):o.Log.NONE},e._output=function(e,t){var n=Array.prototype.slice.call(t).join(" : "),o="<b>"+e+"</b> : "+n;i.IFrameWindowHelper.getMainWindowElement("#trace").append(r("<li>").html(o));var a=i.IFrameWindowHelper.getMainWindowElement("#btnClearTrace");a.hasClass("hide")&&a.removeClass("hide")},e}();t.OAuthLogger=s},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(5),s=n(14),u=n(15),c=n(16),l=n(17),h=function(){function e(e,t){this._apiBaseUrl=e,this._authenticator=t}return e.prototype.executeView=function(){return r(this,void 0,void 0,function(){var e,t;return o(this,function(n){switch(n.label){case 0:return i(".initiallydisabled").prop("disabled",!0),i(".initiallydisabled").addClass("disabled"),e=this._currentView,t=a.UrlHelper.getLocationHashData(),t.loggedout?this._currentView=new u.LogoutView:t.company?this._currentView=new c.TransactionsView(this._authenticator,this._apiBaseUrl,t.company):this._currentView=new s.ListView(this._authenticator,this._apiBaseUrl),i("#error").text(""),e&&e.unload(),[4,this._currentView.execute()];case 1:return n.sent(),t.loggedout||(i(".initiallydisabled").prop("disabled",!1),i(".initiallydisabled").removeClass("disabled")),[2]}})})},e.prototype.executeUserInfoView=function(){return r(this,void 0,void 0,function(){var e,t;return o(this,function(n){switch(n.label){case 0:return e=a.UrlHelper.getLocationHashData(),e.loggedout?[3,2]:(t=new l.UserInfoView(this._authenticator,this._apiBaseUrl),[4,t.execute()]);case 1:n.sent(),n.label=2;case 2:return[2]}})})},e}();t.Router=h},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(1),s=function(){function e(e,t){this._authenticator=e,this._apiBaseUrl=t,this._setupCallbacks()}return e.prototype.execute=function(){return r(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return[4,a.HttpClient.callApi(this._apiBaseUrl+"/companies","GET",null,this._authenticator)];case 1:return e=t.sent(),this._renderData(e),[2]}})})},e.prototype.unload=function(){i(".listcontainer").addClass("hide")},e.prototype._renderData=function(e){i(".listcontainer").removeClass("hide"),i(".panel-group").text(""),e.forEach(function(e){var t=Number(e.targetUsd).toLocaleString(),n=Number(e.investmentUsd).toLocaleString(),r=i("<div class='panel panel-default'>\n                                    <div class='panel-body'>\n                                      <div class='row'>\n                                        <div class='col-xs-1'>\n                                            <img src='images/"+e.id+".svg' />\n                                        </div>\n                                        <div class='col-xs-2'>\n                                            <br/>\n                                            "+e.name+"\n                                        </div>\n                                        <div class='col-xs-3'>\n                                            <br/>\n                                            <a data-id="+e.id+">View Transactions</a>\n                                        </div>\n                                        <div class='col-xs-2 amount'>\n                                            <br/>\n                                            "+t+"<br/>\n                                        </div>\n                                        <div class='col-xs-2 amount'>\n                                            <br/>\n                                            "+n+"<br/>\n                                        </div>\n                                            <br/>\n                                            <div class='col-xs-2'>"+e.noInvestors+"</div>\n                                      </div>\n                                    </div>\n                                  </div>");i(".panel-group").append(r)}),i("a").on("click",this._selectCompanyTransactions)},e.prototype._selectCompanyTransactions=function(e){var t=i(e.target).attr("data-id");location.hash="#company="+t,e.preventDefault()},e.prototype._setupCallbacks=function(){this._renderData=this._renderData.bind(this),this._selectCompanyTransactions=this._selectCompanyTransactions.bind(this)},e}();t.ListView=s},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=function(){function e(){}return e.prototype.execute=function(){return r(this,void 0,void 0,function(){return o(this,function(e){return i("#loggedOut").removeClass("hide"),[2]})})},e.prototype.unload=function(){i("#loggedOut").addClass("hide")},e}();t.LogoutView=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(1),s=function(){function e(e,t,n){this._authenticator=e,this._apiBaseUrl=t,this._companyId=n,this._setupCallbacks()}return e.prototype.execute=function(){return r(this,void 0,void 0,function(){var e,t,n;return o(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this._apiBaseUrl+"/companies/"+this._companyId+"/transactions",[4,a.HttpClient.callApi(e,"GET",null,this._authenticator)];case 1:return t=r.sent(),[2,this._renderData(t)];case 2:if(n=r.sent(),403!==n.statusCode)throw n;return location.hash="#",[3,3];case 3:return[2]}})})},e.prototype.unload=function(){i(".transactionscontainer").addClass("hide")},e.prototype._renderData=function(e){i(".transactionscontainer").removeClass("hide"),i(".authenticated").removeClass("hide"),i(".transactionslist").text(""),i(".transactionsheader").text("Transactions for "+e.company.name),e.transactions.forEach(function(e){var t=Number(e.amountUsd).toLocaleString(),n=i("<div class='item col-xs-3'>\n                                      <div class='thumbnail'>\n                                        <div class='caption row'>\n                                          <div class='col-xs-6 text-left'>Id</div>\n                                          <div class='col-xs-6 text-right link'>"+e.id+"</div>\n                                        </div>\n                                        <div class='caption row'>\n                                          <div class='col-xs-6 text-left'>Investor Id</div>\n                                          <div class='col-xs-6 text-right link'>"+e.investorId+"</div>\n                                        </div>\n                                        <div class='caption row'>\n                                          <div class='col-xs-6 text-left'>Amount USD</div>\n                                          <div class='col-xs-6 text-right amount'>"+t+"</div>\n                                        </div>\n                                      </div>\n                                    </div>");i(".transactionslist").append(n)})},e.prototype._setupCallbacks=function(){this._renderData=this._renderData.bind(this)},e}();t.TransactionsView=s},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(1),s=function(){function e(e,t){this._authenticator=e,this._apiBaseUrl=t,this._setupCallbacks()}return e.prototype.execute=function(){return r(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return[4,a.HttpClient.callApi(this._apiBaseUrl+"/userclaims/current","GET",null,this._authenticator)];case 1:return e=t.sent(),this._renderData(e),[2]}})})},e.prototype._renderData=function(e){e.givenName&&e.familyName&&(i(".logincontainer").removeClass("hide"),i(".logintext").text(e.givenName+" "+e.familyName))},e.prototype._setupCallbacks=function(){this._renderData=this._renderData.bind(this)},e}();t.UserInfoView=s}],[6]);