PROBLEMS
--------
1. Happy path failing due to middy return value
2. Middy calls next async handler if claims middleware does not succeed (hack)
3. Error during auth not returning a response

LOOK AT
-------
1. Avoid transpiling async await via ES2017
2. Better type safety around AWS types - see aws lambda typescript project

SETUP I WANT
------------
1. Express to listen on different host names for web.mycompany.com and api.mycompany.com
2. SPA to use pfx option to local web server
3. Use sls offline for local API

LINKS
-----
Typescript and Serverless:
https://blog.shovonhasan.com/deploying-a-typescript-node-aws-lambda-function-with-serverless/

Deployment problems on Windows:
https://github.com/prismagraphql/serverless-plugin-typescript/issues/23

Dependencies not included in AWS deployment:
https://github.com/serverless/serverless/issues/3915

Pros and Cons - Serverless v Express:
https://medium.freecodecamp.org/node-js-apis-on-aws-the-pros-and-cons-of-express-versus-serverless-a370ab7eadd7

Examples
--------
// Get-Transactions
{
    "pathParameters": {
      "id": "1410050002"
    },
    "queryStringParameters": {
      "transactionDateFrom": "2017-05-17T00:00:00Z",
      "transactionDateTo": "2018-09-17T00:00:00Z",
      "includeSection": "Location",
      "languageCode": "en-GB"
    }
  }

// Put-Profile
{
    "pathParameters": {
      "id": "14014700146397"
    },
    "body": {
      "Surname": "Smith",
      "Forename": "John",
      "CommunicationDetails": {
         "PreferredISOLanguageCode": "en",
         "Email": "john.smith@xxx.com"
       },
       "AddressDetails": {
         "AddressLine1": "200 West Arbor Drive",
         "City": "San Diego",
         "USStateCode": "CA",
         "Postcode": "92103",
         "ISOCountryCode": "USA"
       }
    }
  }